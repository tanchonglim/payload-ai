{"version":3,"sources":["../../../../src/ai/models/anthropic/index.ts"],"sourcesContent":["import { anthropic } from '@ai-sdk/anthropic'\nimport { streamText } from 'ai'\n\nimport type { GenerationConfig } from '../../../types.js'\n\nimport { defaultSystemPrompt } from '../../prompts.js'\nimport { generateRichText } from './generateRichText.js'\n\nconst MODEL_KEY = 'ANTH-C'\n\nexport const AnthropicConfig: GenerationConfig = {\n  models: [\n    {\n      id: `${MODEL_KEY}-text`,\n      name: 'Anthropic Claude',\n      fields: ['text', 'textarea'],\n      handler: async (\n        prompt: string,\n        options: { locale: string; model: string; system: string },\n      ) => {\n        const streamTextResult = await streamText({\n          model: anthropic(options.model),\n          prompt,\n          system: options.system || defaultSystemPrompt,\n        })\n\n        return streamTextResult.toDataStreamResponse()\n      },\n      output: 'text',\n      settings: {\n        name: `${MODEL_KEY}-text-settings`,\n        type: 'group',\n        admin: {\n          condition(data) {\n            return data['model-id'] === `${MODEL_KEY}-text`\n          },\n        },\n        fields: [\n          {\n            name: 'model',\n            type: 'select',\n            defaultValue: 'claude-3-5-sonnet-20240620',\n            label: 'Model',\n            options: [\n              'claude-3-haiku-20240307',\n              'claude-3-sonnet-20240229',\n              'claude-3-opus-20240229',\n              'claude-3-5-sonnet-20240620',\n            ],\n          },\n        ],\n        label: 'Anthropic Claude Settings',\n      },\n    },\n    {\n      id: `${MODEL_KEY}-object`,\n      name: 'Anthropic Claude',\n      fields: ['richText'],\n      handler: (text: string, options) => {\n        return generateRichText(text, options)\n      },\n      output: 'text',\n      settings: {\n        name: `${MODEL_KEY}-object-settings`,\n        type: 'group',\n        admin: {\n          condition(data) {\n            return data['model-id'] === `${MODEL_KEY}-object`\n          },\n        },\n        fields: [\n          {\n            name: 'model',\n            type: 'select',\n            defaultValue: 'claude-3-5-sonnet-20240620',\n            label: 'Model',\n            options: [\n              'claude-3-haiku-20240307',\n              'claude-3-sonnet-20240229',\n              'claude-3-opus-20240229',\n              'claude-3-5-sonnet-20240620',\n            ],\n          },\n        ],\n        label: 'Anthropic Claude Settings',\n      },\n    },\n  ],\n  provider: 'Anthropic',\n}\n"],"names":["anthropic","streamText","defaultSystemPrompt","generateRichText","MODEL_KEY","AnthropicConfig","models","id","name","fields","handler","prompt","options","streamTextResult","model","system","toDataStreamResponse","output","settings","type","admin","condition","data","defaultValue","label","text","provider"],"mappings":"AAAA,SAASA,SAAS,QAAQ,oBAAmB;AAC7C,SAASC,UAAU,QAAQ,KAAI;AAI/B,SAASC,mBAAmB,QAAQ,mBAAkB;AACtD,SAASC,gBAAgB,QAAQ,wBAAuB;AAExD,MAAMC,YAAY;AAElB,OAAO,MAAMC,kBAAoC;IAC/CC,QAAQ;QACN;YACEC,IAAI,CAAC,EAAEH,UAAU,KAAK,CAAC;YACvBI,MAAM;YACNC,QAAQ;gBAAC;gBAAQ;aAAW;YAC5BC,SAAS,OACPC,QACAC;gBAEA,MAAMC,mBAAmB,MAAMZ,WAAW;oBACxCa,OAAOd,UAAUY,QAAQE,KAAK;oBAC9BH;oBACAI,QAAQH,QAAQG,MAAM,IAAIb;gBAC5B;gBAEA,OAAOW,iBAAiBG,oBAAoB;YAC9C;YACAC,QAAQ;YACRC,UAAU;gBACRV,MAAM,CAAC,EAAEJ,UAAU,cAAc,CAAC;gBAClCe,MAAM;gBACNC,OAAO;oBACLC,WAAUC,IAAI;wBACZ,OAAOA,IAAI,CAAC,WAAW,KAAK,CAAC,EAAElB,UAAU,KAAK,CAAC;oBACjD;gBACF;gBACAK,QAAQ;oBACN;wBACED,MAAM;wBACNW,MAAM;wBACNI,cAAc;wBACdC,OAAO;wBACPZ,SAAS;4BACP;4BACA;4BACA;4BACA;yBACD;oBACH;iBACD;gBACDY,OAAO;YACT;QACF;QACA;YACEjB,IAAI,CAAC,EAAEH,UAAU,OAAO,CAAC;YACzBI,MAAM;YACNC,QAAQ;gBAAC;aAAW;YACpBC,SAAS,CAACe,MAAcb;gBACtB,OAAOT,iBAAiBsB,MAAMb;YAChC;YACAK,QAAQ;YACRC,UAAU;gBACRV,MAAM,CAAC,EAAEJ,UAAU,gBAAgB,CAAC;gBACpCe,MAAM;gBACNC,OAAO;oBACLC,WAAUC,IAAI;wBACZ,OAAOA,IAAI,CAAC,WAAW,KAAK,CAAC,EAAElB,UAAU,OAAO,CAAC;oBACnD;gBACF;gBACAK,QAAQ;oBACN;wBACED,MAAM;wBACNW,MAAM;wBACNI,cAAc;wBACdC,OAAO;wBACPZ,SAAS;4BACP;4BACA;4BACA;4BACA;yBACD;oBACH;iBACD;gBACDY,OAAO;YACT;QACF;KACD;IACDE,UAAU;AACZ,EAAC"}