{"version":3,"sources":["../../../../../src/ui/Compose/hooks/menu/TranslateMenu.tsx"],"sourcesContent":["import locales from 'locale-codes'\nimport React, { useState } from 'react'\n\nimport { Item } from './Item.js'\nimport { Translate } from './items.js'\nimport styles from './menu.module.scss'\n\nexport const TranslateMenu = ({ onClick }) => {\n  const [show, setShow] = useState(false)\n\n  const filteredLocales = [\n    locales.getByTag('en-my'),\n    locales.getByTag('ms-my'),\n  ].filter((a) => {\n    return a.tag && a.location\n  })\n\n  const [languages, setLanguages] = useState(filteredLocales)\n  const [inputFocus, setInputFocus] = useState(false)\n\n  return (\n    <div\n      className={styles.menu}\n      onMouseLeave={() => {\n        if (!inputFocus) {\n          setShow(false)\n        }\n      }}\n    >\n      <Translate\n        isActive={show}\n        isMenu\n        onClick={() => {\n          setShow(!show)\n        }}\n        onMouseEnter={() => setShow(true)}\n      />\n      <div className={styles.hoverMenu} data-show={show}>\n        <div className={`${styles.menu} ${styles.subMenu}`}>\n          <Item\n            onClick={() => {}}\n            style={{\n              background: 'transparent',\n              padding: '0 0 5px 0',\n              position: 'sticky',\n              top: 0,\n            }}\n          >\n            <input\n              className={styles.menuInput}\n              onBlur={() => setInputFocus(false)}\n              onChange={(event) => {\n                const value = event.target.value\n                setLanguages(\n                  filteredLocales.filter((l) => {\n                    const lowerCaseValue = value.toLowerCase()\n                    return (\n                      l.name.toLowerCase().startsWith(lowerCaseValue) ||\n                      l.location.toLowerCase().startsWith(lowerCaseValue) ||\n                      l.tag.toLowerCase().startsWith(lowerCaseValue)\n                    )\n                  }),\n                )\n              }}\n              onFocus={() => setInputFocus(true)}\n              placeholder=\"Search...\"\n            />\n          </Item>\n          {languages.map((locale) => {\n            return (\n              <Item\n                key={locale.tag}\n                onClick={() => {\n                  onClick({ locale: locale.tag })\n                }}\n              >\n                <span className={styles.ellipsis}>{`${locale.location} (${locale.tag})`}</span>\n              </Item>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["locales","React","useState","Item","Translate","styles","TranslateMenu","onClick","show","setShow","filteredLocales","getByTag","filter","a","tag","location","languages","setLanguages","inputFocus","setInputFocus","div","className","menu","onMouseLeave","isActive","isMenu","onMouseEnter","hoverMenu","data-show","subMenu","style","background","padding","position","top","input","menuInput","onBlur","onChange","event","value","target","l","lowerCaseValue","toLowerCase","name","startsWith","onFocus","placeholder","map","locale","span","ellipsis"],"mappings":";AAAA,OAAOA,aAAa,eAAc;AAClC,OAAOC,SAASC,QAAQ,QAAQ,QAAO;AAEvC,SAASC,IAAI,QAAQ,YAAW;AAChC,SAASC,SAAS,QAAQ,aAAY;AACtC,OAAOC,YAAY,qBAAoB;AAEvC,OAAO,MAAMC,gBAAgB,CAAC,EAAEC,OAAO,EAAE;IACvC,MAAM,CAACC,MAAMC,QAAQ,GAAGP,SAAS;IAEjC,MAAMQ,kBAAkB;QACtBV,QAAQW,QAAQ,CAAC;QACjBX,QAAQW,QAAQ,CAAC;KAClB,CAACC,MAAM,CAAC,CAACC;QACR,OAAOA,EAAEC,GAAG,IAAID,EAAEE,QAAQ;IAC5B;IAEA,MAAM,CAACC,WAAWC,aAAa,GAAGf,SAASQ;IAC3C,MAAM,CAACQ,YAAYC,cAAc,GAAGjB,SAAS;IAE7C,qBACE,MAACkB;QACCC,WAAWhB,OAAOiB,IAAI;QACtBC,cAAc;YACZ,IAAI,CAACL,YAAY;gBACfT,QAAQ;YACV;QACF;;0BAEA,KAACL;gBACCoB,UAAUhB;gBACViB,MAAM;gBACNlB,SAAS;oBACPE,QAAQ,CAACD;gBACX;gBACAkB,cAAc,IAAMjB,QAAQ;;0BAE9B,KAACW;gBAAIC,WAAWhB,OAAOsB,SAAS;gBAAEC,aAAWpB;0BAC3C,cAAA,MAACY;oBAAIC,WAAW,CAAC,EAAEhB,OAAOiB,IAAI,CAAC,CAAC,EAAEjB,OAAOwB,OAAO,CAAC,CAAC;;sCAChD,KAAC1B;4BACCI,SAAS,KAAO;4BAChBuB,OAAO;gCACLC,YAAY;gCACZC,SAAS;gCACTC,UAAU;gCACVC,KAAK;4BACP;sCAEA,cAAA,KAACC;gCACCd,WAAWhB,OAAO+B,SAAS;gCAC3BC,QAAQ,IAAMlB,cAAc;gCAC5BmB,UAAU,CAACC;oCACT,MAAMC,QAAQD,MAAME,MAAM,CAACD,KAAK;oCAChCvB,aACEP,gBAAgBE,MAAM,CAAC,CAAC8B;wCACtB,MAAMC,iBAAiBH,MAAMI,WAAW;wCACxC,OACEF,EAAEG,IAAI,CAACD,WAAW,GAAGE,UAAU,CAACH,mBAChCD,EAAE3B,QAAQ,CAAC6B,WAAW,GAAGE,UAAU,CAACH,mBACpCD,EAAE5B,GAAG,CAAC8B,WAAW,GAAGE,UAAU,CAACH;oCAEnC;gCAEJ;gCACAI,SAAS,IAAM5B,cAAc;gCAC7B6B,aAAY;;;wBAGfhC,UAAUiC,GAAG,CAAC,CAACC;4BACd,qBACE,KAAC/C;gCAECI,SAAS;oCACPA,QAAQ;wCAAE2C,QAAQA,OAAOpC,GAAG;oCAAC;gCAC/B;0CAEA,cAAA,KAACqC;oCAAK9B,WAAWhB,OAAO+C,QAAQ;8CAAG,CAAC,EAAEF,OAAOnC,QAAQ,CAAC,EAAE,EAAEmC,OAAOpC,GAAG,CAAC,CAAC,CAAC;;+BALlEoC,OAAOpC,GAAG;wBAQrB;;;;;;AAKV,EAAC"}